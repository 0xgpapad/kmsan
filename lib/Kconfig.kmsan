config HAVE_ARCH_KMSAN
	bool

if HAVE_ARCH_KMSAN

config KMSAN
	bool "KMSAN: detector of uninitialized values use"
	depends on SLUB && !KASAN
	depends on CC_IS_CLANG && CLANG_VERSION >= 110000
	select STACKDEPOT
	help
	  KernelMemorySanitizer (KMSAN) is a dynamic detector of uses of
	  uninitialized values in the kernel. It is based on compiler
	  instrumentation provided by Clang and thus requires Clang to build.

	  See <file:Documentation/dev-tools/kmsan.rst> for more details.

config TEST_KMSAN
	tristate "Module for testing KMSAN for bug detection"
	depends on m && KMSAN
	help
	  Test module that can trigger various uses of uninitialized memory
	  detectable by KMSAN.

endif
